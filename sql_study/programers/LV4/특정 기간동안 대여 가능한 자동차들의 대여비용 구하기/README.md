# 문제 설명

다음은 어느 자동차 대여 회사에서 대여 중인 자동차들의 정보를 담은 CAR_RENTAL_COMPANY_CAR 테이블과 자동차 대여 기록 정보를 담은 CAR_RENTAL_COMPANY_RENTAL_HISTORY 테이블과 자동차 종류 별 대여 기간 종류 별 할인 정책 정보를 담은 CAR_RENTAL_COMPANY_DISCOUNT_PLAN 테이블 입니다.

---

## 테이블 구조

### CAR_RENTAL_COMPANY_CAR

| 컬럼명    | 타입          | Nullable | 설명            |
|-----------|---------------|----------|-----------------|
| CAR_ID    | INTEGER       | FALSE    | 자동차 ID       |
| CAR_TYPE  | VARCHAR(255)  | FALSE    | 자동차 종류     |
| DAILY_FEE | INTEGER       | FALSE    | 일일 대여 요금  |
| OPTIONS   | VARCHAR(255)  | FALSE    | 자동차 옵션 리스트 (콤마 구분) |

자동차 종류: '세단', 'SUV', '승합차', '트럭', '리무진'

자동차 옵션 리스트: '주차감지센서', '스마트키', '네비게이션', '통풍시트', '열선시트', '후방카메라', '가죽시트'

---

### CAR_RENTAL_COMPANY_RENTAL_HISTORY

| 컬럼명     | 타입  | Nullable | 설명             |
|------------|-------|----------|------------------|
| HISTORY_ID | INTEGER | FALSE   | 대여 기록 ID     |
| CAR_ID     | INTEGER | FALSE   | 자동차 ID        |
| START_DATE | DATE   | FALSE    | 대여 시작일      |
| END_DATE   | DATE   | FALSE    | 대여 종료일      |

---

### CAR_RENTAL_COMPANY_DISCOUNT_PLAN

| 컬럼명       | 타입          | Nullable | 설명                  |
|--------------|---------------|----------|-----------------------|
| PLAN_ID      | INTEGER       | FALSE    | 할인 정책 ID          |
| CAR_TYPE     | VARCHAR(255)  | FALSE    | 자동차 종류           |
| DURATION_TYPE| VARCHAR(255)  | FALSE    | 대여 기간 종류        |
| DISCOUNT_RATE| INTEGER       | FALSE    | 할인율 (%)            |

대여 기간 종류:

- '7일 이상' : 7일 이상 30일 미만  
- '30일 이상' : 30일 이상 90일 미만  
- '90일 이상' : 90일 이상  

7일 미만 대여는 할인 없음.

---

# 문제

CAR_RENTAL_COMPANY_CAR, CAR_RENTAL_COMPANY_RENTAL_HISTORY, CAR_RENTAL_COMPANY_DISCOUNT_PLAN 테이블에서

- 자동차 종류가 '세단' 또는 'SUV'인 자동차
- 2022년 11월 1일부터 2022년 11월 30일까지 대여 가능
- 30일 대여 금액이 50만원 이상 200만원 미만인 자동차

에 대해

자동차 ID, 자동차 종류, 대여 금액(FEE)을 출력하세요.

결과는 대여 금액 내림차순, 대여 금액이 같으면 자동차 종류 오름차순, 자동차 종류도 같으면 자동차 ID 내림차순 정렬하세요.

---

# 예시

### CAR_RENTAL_COMPANY_CAR

| CAR_ID | CAR_TYPE | DAILY_FEE | OPTIONS               |
|--------|----------|-----------|-----------------------|
| 1      | SUV      | 25000     | 가죽시트,열선시트,후방카메라 |
| 2      | 세단     | 14000     | 스마트키,네비게이션,열선시트 |
| 3      | 트럭     | 32000     | 주차감지센서,후방카메라,가죽시트 |
| 4      | 세단     | 12000     | 열선시트,후방카메라          |
| 5      | 세단     | 22000     | 스마트키,주차감지센서         |

---

### CAR_RENTAL_COMPANY_RENTAL_HISTORY

| HISTORY_ID | CAR_ID | START_DATE  | END_DATE    |
|------------|--------|-------------|-------------|
| 1          | 1      | 2022-08-27  | 2022-09-02  |
| 2          | 1      | 2022-10-03  | 2022-10-04  |
| 3          | 2      | 2022-10-05  | 2022-10-20  |
| 4          | 2      | 2022-10-10  | 2022-11-12  |
| 5          | 3      | 2022-10-16  | 2022-10-17  |

---

### CAR_RENTAL_COMPANY_DISCOUNT_PLAN

| PLAN_ID | CAR_TYPE | DURATION_TYPE | DISCOUNT_RATE |
|---------|----------|---------------|---------------|
| 1       | 트럭     | 7일 이상      | 5             |
| 2       | 트럭     | 30일 이상     | 7             |
| 3       | 트럭     | 90일 이상     | 10            |
| 4       | 세단     | 7일 이상      | 5             |
| 5       | 세단     | 30일 이상     | 10            |
| 6       | 세단     | 90일 이상     | 15            |
| 7       | SUV      | 7일 이상      | 3             |
| 8       | SUV      | 30일 이상     | 8             |
| 9       | SUV      | 90일 이상     | 12            |

---

### 설명

- 자동차 종류가 '세단' 또는 'SUV'인 자동차 중 2022년 11월 1일부터 11월 30일까지 대여 가능한 자동차: CAR_ID 1, 4, 5
- 30일간 대여 시 할인율 적용 후 대여 금액 계산:

| CAR_ID | CAR_TYPE | DAILY_FEE | 할인율 | 계산식                         | 대여 금액 (FEE) |
|--------|----------|-----------|--------|--------------------------------|-----------------|
| 1      | SUV      | 25000     | 8%     | 25000 × 0.92 × 30              | 690,000         |
| 4      | 세단     | 12000     | 10%    | 12000 × 0.90 × 30              | 324,000         |
| 5      | 세단     | 22000     | 10%    | 22000 × 0.90 × 30              | 621,000         |

---

### 결과 (조건 만족)

| CAR_ID | CAR_TYPE | FEE    |
|--------|----------|--------|
| 5      | 세단     | 690000 |
| 1      | SUV      | 621000 |
